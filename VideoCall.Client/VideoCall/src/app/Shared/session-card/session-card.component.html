<div class="session-card">
  <div class="session-header">
    <h3>{{ session.name }}</h3>
    <button mat-icon-button [matMenuTriggerFor]="menu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="edit.emit()">
        <mat-icon>edit</mat-icon>
        <span>Edit</span>
      </button>
      <button mat-menu-item (click)="delete.emit()">
        <mat-icon>delete</mat-icon>
        <span>Delete</span>
      </button>
    </mat-menu>
  </div>

  <div class="session-info" (click)="toggleDetails.emit()">
    <p>Participants: {{ session.participants }}</p>
    <p>Status: <span class="status-badge {{ session.status }}">{{ session.status }}</span></p>
    <p>Created: {{ session.createdAt | date:'short' }}</p>
  </div>

  <div *ngIf="selectedSession?.id === session.id" class="session-details">
    <hr>
    <h4>Session Details</h4>
    <p><strong>Host:</strong> {{ session.host }}</p>
    <p><strong>Description:</strong> {{ session.description || 'No description available' }}</p>
    <p><strong>Start Time:</strong> {{ session.createdAt | date:'medium' }}</p>
    <p *ngIf="session.endTime"><strong>End Time:</strong> {{ session.endTime | date:'medium' }}</p>
  </div>

  <button class="join-btn" (click)="join.emit()">Join Session</button>
</div>
